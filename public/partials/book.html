<div class="book_edit">

<!--<pre>{{files}}</pre>-->

<form>
  <!--<label>bookId</label>-->
  <!--<div><input disabled ng-model="book.bookId"></div>-->

  <label>title</label>
  <div><input ng-model="book.title"/></div>

  <label>files</label>
  <div class="files" dragupload="onDrop">
    <div class="instructions">Drop files here (.mp3 or .txt)</div>

    <div class="file" ng-class="{loading: isLoading(file)}" ng-repeat="file in files | orderBy:'name'">
      <div ng-hide="isEditing(file)">
        <a class="remove" ng-click="removeFile(file)">x</a> 
        <a ng-click="editFile(file)">{{file.name}}.{{file.ext}}</a>
        <a class="external_link" href="{{file.url}}"></a>
      </div>
      <div ng-show="isEditing(file)">
        <input ng-model="editing.name">
        <button ng-click="updateFile(file)">Save</button>
        <a ng-click="cancelEdit()">Cancel</a>
      </div>
    </div>
  </div>

  <p>
    <button ng-disabled="!book" ng-click="save()">Save</button>
    <button ng-disabled="!book" ng-click="remove()">Remove</button>
  </p>

</form>

</div>
